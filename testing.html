<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CompTIA Security+ Domain 1 Test - LAN153</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #1a4a1a 50%, #000000 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            color: black;
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            border: 3px solid #28a745;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 4px solid #28a745;
            padding-bottom: 25px;
        }

        .header h1 {
            color: #28a745;
            font-size: 2.8em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .header .subtitle {
            color: #000;
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        .header .course-info {
            color: #28a745;
            font-weight: bold;
            font-size: 1.1em;
        }

        .start-screen {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #28a745;
            text-align: center;
        }

        .domain-info {
            background: white;
            border: 2px solid #28a745;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .domain-info h3 {
            color: #28a745;
            margin-bottom: 15px;
        }

        .objectives-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .objective-card {
            background: #f8f9fa;
            border: 1px solid #28a745;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .objective-card h4 {
            color: #28a745;
            font-size: 0.9em;
            margin-bottom: 8px;
        }

        .btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
        }

        .question-container {
            display: none;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #28a745;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #28a745;
        }

        .question-number {
            color: #28a745;
            font-size: 1.3em;
            font-weight: bold;
        }

        .objective-tag {
            background: #28a745;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .progress {
            background: #e9ecef;
            border-radius: 10px;
            height: 12px;
            margin: 20px 0;
            overflow: hidden;
            border: 1px solid #28a745;
        }

        .progress-bar {
            background: linear-gradient(90deg, #28a745, #20c997);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .question {
            font-size: 1.4em;
            margin: 25px 0;
            font-weight: 600;
            color: #000;
            line-height: 1.5;
        }

        .answer-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #28a745;
            border-radius: 8px;
            font-size: 16px;
            margin: 20px 0;
            transition: border-color 0.3s ease;
        }

        .answer-input:focus {
            outline: none;
            border-color: #000;
            box-shadow: 0 0 10px rgba(40, 167, 69, 0.2);
        }

        .multiple-choice {
            margin: 20px 0;
        }

        .choice {
            background: white;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 15px 20px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .choice:hover {
            background: #e8f5e8;
            transform: translateX(5px);
        }

        .choice.selected {
            background: #28a745;
            color: white;
            transform: translateX(10px);
        }

        .choice.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .choice.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .choice-letter {
            background: #28a745;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }

        .choice.selected .choice-letter {
            background: white;
            color: #28a745;
        }

        .feedback {
            display: none;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            border: 2px solid;
        }

        .feedback.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .feedback.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .feedback h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .score {
            text-align: center;
            font-size: 1.3em;
            color: #28a745;
            margin: 20px 0;
            font-weight: bold;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #28a745;
        }

        .results {
            display: none;
            text-align: center;
            padding: 40px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #28a745;
        }

        .results h2 {
            color: #28a745;
            margin-bottom: 25px;
            font-size: 2.2em;
        }

        .final-score {
            font-size: 3em;
            color: #28a745;
            margin: 25px 0;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .performance-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .objective-result {
            background: white;
            border: 2px solid #28a745;
            border-radius: 10px;
            padding: 15px;
        }

        .objective-result h4 {
            color: #28a745;
            margin-bottom: 10px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔒 CompTIA Security+ Domain 1 Test</h1>
            <p class="subtitle">General Security Concepts</p>
            <p class="course-info">LAN153: Fundamentals and Cybersecurity</p>
        </div>

        <!-- Start Screen -->
        <div class="start-screen" id="startScreen">
            <div class="domain-info">
                <h3>📚 Domain 1: General Security Concepts (12% of SY0-701 Exam)</h3>
                <p>This test covers the foundational cybersecurity principles essential for any security professional. You'll be tested on four key objective areas:</p>
                
                <div class="objectives-grid">
                    <div class="objective-card">
                        <h4>1.1 Security Controls</h4>
                        <p>Technical, Managerial, Operational, Physical controls and their types</p>
                    </div>
                    <div class="objective-card">
                        <h4>1.2 Security Concepts</h4>
                        <p>CIA Triad, AAA, Zero Trust, Physical Security, Deception Tech</p>
                    </div>
                    <div class="objective-card">
                        <h4>1.3 Change Management</h4>
                        <p>Business processes, technical implications, documentation</p>
                    </div>
                    <div class="objective-card">
                        <h4>1.4 Cryptography</h4>
                        <p>PKI, encryption, hashing, certificates, key management</p>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 30px;">
                <h3 style="color: #28a745; margin-bottom: 15px;">Test Information</h3>
                <p><strong>Questions:</strong> 25 multiple-choice questions</p>
                <p><strong>Format:</strong> One question at a time with immediate feedback</p>
                <p><strong>Passing Score:</strong> 70% (18/25 correct)</p>
                <p><strong>Time:</strong> Self-paced</p>
            </div>
            
            <button class="btn" onclick="startTest()">🚀 Start Test</button>
        </div>

        <!-- Question Container -->
        <div class="question-container" id="questionContainer">
            <div class="question-header">
                <div class="question-number" id="questionNumber"></div>
                <div class="objective-tag" id="objectiveTag"></div>
            </div>
            
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div class="question" id="questionText"></div>
            
            <div class="multiple-choice" id="choicesContainer"></div>
            
            <div class="feedback" id="feedback"></div>
            
            <button class="btn" id="nextBtn" onclick="nextQuestion()" style="display: none;">Next Question →</button>
            
            <div class="score" id="currentScore"></div>
        </div>

        <!-- Results -->
        <div class="results" id="results">
            <h2>🎉 Test Complete!</h2>
            <div class="final-score" id="finalScore"></div>
            <div id="passStatus"></div>
            <div class="performance-breakdown" id="performanceBreakdown"></div>
            <button class="btn" onclick="resetTest()">🔄 Take Test Again</button>
        </div>
    </div>

    <script>
        // Comprehensive question bank for CompTIA Security+ Domain 1
        const questions = [
            // 1.1 Security Controls Questions
            {
                objective: "1.1",
                question: "Which type of security control is implemented using hardware, software, or firmware components to automatically enforce security policies?",
                choices: [
                    "Managerial controls",
                    "Technical controls", 
                    "Operational controls",
                    "Physical controls"
                ],
                correct: 1,
                explanation: "Technical controls are implemented using technology such as hardware, software, or firmware. Examples include firewalls, encryption, biometrics, and access control systems. These controls automatically enforce security policies without requiring human intervention."
            },
            {
                objective: "1.1",
                question: "A company implements a policy requiring all employees to use complex passwords. What type of security control is this?",
                choices: [
                    "Technical control",
                    "Physical control", 
                    "Managerial control",
                    "Operational control"
                ],
                correct: 2,
                explanation: "Managerial controls relate to risk management, governance, oversight, and decision making. Password policies are managerial controls because they are management directives that govern how security should be implemented and maintained."
            },
            {
                objective: "1.1",
                question: "Installing security cameras to monitor a data center is an example of which control type?",
                choices: [
                    "Preventive",
                    "Detective", 
                    "Corrective",
                    "Directive"
                ],
                correct: 1,
                explanation: "Detective controls are designed to identify and discover unwanted events that have occurred or are occurring. Security cameras monitor and detect security incidents, making them detective controls."
            },
            {
                objective: "1.1",
                question: "Which security control type is designed to reduce the likelihood of a threat being realized?",
                choices: [
                    "Detective",
                    "Corrective", 
                    "Preventive",
                    "Compensating"
                ],
                correct: 2,
                explanation: "Preventive controls are implemented to stop threats from occurring in the first place. They reduce the likelihood of a threat being realized by blocking or deterring unwanted events before they happen."
            },
            {
                objective: "1.1",
                question: "A backup generator used when primary power fails is an example of which type of control?",
                choices: [
                    "Preventive",
                    "Detective", 
                    "Compensating",
                    "Directive"
                ],
                correct: 2,
                explanation: "Compensating controls are alternative controls used when the primary control is not feasible or fails. A backup generator compensates for the failure of primary power, ensuring continued operation."
            },

            // 1.2 Fundamental Security Concepts Questions
            {
                objective: "1.2",
                question: "In the CIA triad, which principle ensures that data has not been altered in an unauthorized manner?",
                choices: [
                    "Confidentiality",
                    "Integrity", 
                    "Availability",
                    "Non-repudiation"
                ],
                correct: 1,
                explanation: "Integrity in the CIA triad ensures that data remains accurate, complete, and unaltered by unauthorized entities. It protects against unauthorized modification, deletion, or creation of data."
            },
            {
                objective: "1.2",
                question: "Which AAA component determines what actions a user can perform after successful authentication?",
                choices: [
                    "Authentication",
                    "Authorization", 
                    "Accounting",
                    "Administration"
                ],
                correct: 1,
                explanation: "Authorization determines what actions an authenticated user is permitted to perform. It defines the level of access and permissions granted to users based on their identity and role."
            },
            {
                objective: "1.2",
                question: "In a Zero Trust security model, what is the fundamental principle regarding network traffic?",
                choices: [
                    "Trust all internal network traffic",
                    "Never trust, always verify", 
                    "Trust but verify external traffic only",
                    "Verify only critical system access"
                ],
                correct: 1,
                explanation: "Zero Trust operates on the principle of 'never trust, always verify.' This means no user or device is trusted by default, regardless of their location within or outside the network perimeter."
            },
            {
                objective: "1.2",
                question: "Which physical security control would be most effective at preventing vehicle-borne attacks?",
                choices: [
                    "Security guards",
                    "Bollards", 
                    "CCTV cameras",
                    "Access badges"
                ],
                correct: 1,
                explanation: "Bollards are short, sturdy vertical posts designed to control or limit vehicle access. They are specifically designed to stop vehicle-borne attacks by creating a physical barrier that vehicles cannot easily breach."
            },
            {
                objective: "1.2",
                question: "A honeynet is an example of which type of security technology?",
                choices: [
                    "Prevention technology",
                    "Detection technology", 
                    "Deception technology",
                    "Correction technology"
                ],
                correct: 2,
                explanation: "A honeynet is a network of honeypots designed to appear as legitimate systems but actually serve to deceive attackers and gather intelligence about their tactics. This makes it a deception technology."
            },

            // 1.3 Change Management Questions
            {
                objective: "1.3",
                question: "In change management, what is the primary purpose of a backout plan?",
                choices: [
                    "To test the change before implementation",
                    "To reverse changes if problems occur", 
                    "To get approval for the change",
                    "To document the change process"
                ],
                correct: 1,
                explanation: "A backout plan provides the procedures to reverse or undo a change if it causes unexpected problems or failures. It ensures that systems can be restored to their previous working state quickly."
            },
            {
                objective: "1.3",
                question: "Which change management process helps determine who will be affected by a proposed change?",
                choices: [
                    "Approval process",
                    "Impact analysis", 
                    "Test results",
                    "Maintenance window"
                ],
                correct: 1,
                explanation: "Impact analysis evaluates the potential effects of a proposed change, including identifying stakeholders, systems, and processes that may be affected. This helps in planning and risk assessment."
            },
            {
                objective: "1.3",
                question: "What is a primary technical implication when implementing changes in a production environment?",
                choices: [
                    "Increased budget requirements",
                    "Service downtime", 
                    "Staff training needs",
                    "Policy updates"
                ],
                correct: 1,
                explanation: "Service downtime is a major technical implication of changes in production environments. Changes may require system restarts, service interruptions, or temporary unavailability of resources."
            },
            {
                objective: "1.3",
                question: "In change management, what is the purpose of version control?",
                choices: [
                    "To track and manage different versions of configurations",
                    "To control access to systems", 
                    "To schedule maintenance windows",
                    "To approve changes"
                ],
                correct: 0,
                explanation: "Version control tracks and manages different versions of configurations, code, documentation, and other assets. It ensures that changes can be tracked, compared, and rolled back if necessary."
            },

            // 1.4 Cryptographic Solutions Questions
            {
                objective: "1.4",
                question: "In PKI, what is the primary function of a Certificate Authority (CA)?",
                choices: [
                    "To encrypt all network communications",
                    "To issue and manage digital certificates", 
                    "To store private keys securely",
                    "To perform key exchange operations"
                ],
                correct: 1,
                explanation: "A Certificate Authority (CA) is responsible for issuing, managing, and revoking digital certificates. The CA validates the identity of certificate requesters and signs certificates to establish trust."
            },
            {
                objective: "1.4",
                question: "Which encryption method uses the same key for both encryption and decryption?",
                choices: [
                    "Asymmetric encryption",
                    "Public key encryption", 
                    "Symmetric encryption",
                    "Hash encryption"
                ],
                correct: 2,
                explanation: "Symmetric encryption uses the same key for both encryption and decryption operations. This makes it faster than asymmetric encryption but requires secure key distribution between parties."
            },
            {
                objective: "1.4",
                question: "What is the primary purpose of a Trusted Platform Module (TPM)?",
                choices: [
                    "To increase processing speed",
                    "To provide secure cryptographic functions", 
                    "To manage network connections",
                    "To store user passwords"
                ],
                correct: 1,
                explanation: "A TPM is a dedicated microchip designed to provide hardware-based security functions. It securely stores cryptographic keys, performs cryptographic operations, and helps ensure platform integrity."
            },
            {
                objective: "1.4",
                question: "In cryptography, what is the main purpose of salting?",
                choices: [
                    "To increase hash computation speed",
                    "To prevent rainbow table attacks", 
                    "To compress hash values",
                    "To encrypt hash functions"
                ],
                correct: 1,
                explanation: "Salting adds random data to passwords before hashing them. This prevents rainbow table attacks by ensuring that identical passwords will have different hash values, making precomputed hash tables ineffective."
            },
            {
                objective: "1.4",
                question: "What type of certificate covers multiple subdomains under a single domain?",
                choices: [
                    "Self-signed certificate",
                    "Root certificate", 
                    "Wildcard certificate",
                    "Extended validation certificate"
                ],
                correct: 2,
                explanation: "A wildcard certificate can secure a domain and all its subdomains with a single certificate. It uses an asterisk (*) in the common name field to represent any subdomain."
            },

            // Additional questions covering all objectives thoroughly
            {
                objective: "1.1",
                question: "Security guards performing physical patrols represent which category of security control?",
                choices: [
                    "Technical",
                    "Managerial", 
                    "Operational",
                    "Administrative"
                ],
                correct: 2,
                explanation: "Operational controls are security measures that are primarily implemented and executed by people. Security guards performing patrols are an example of operational controls as they involve human processes and procedures."
            },
            {
                objective: "1.2",
                question: "Which principle of the CIA triad is primarily concerned with ensuring authorized users have timely access to resources?",
                choices: [
                    "Confidentiality",
                    "Integrity", 
                    "Availability",
                    "Authentication"
                ],
                correct: 2,
                explanation: "Availability ensures that authorized users have reliable and timely access to resources when needed. This includes preventing denial-of-service attacks and ensuring system uptime."
            },
            {
                objective: "1.2",
                question: "What is non-repudiation in information security?",
                choices: [
                    "Preventing unauthorized access to data",
                    "Ensuring data cannot be denied by its creator", 
                    "Maintaining data accuracy",
                    "Providing user authentication"
                ],
                correct: 1,
                explanation: "Non-repudiation ensures that a person cannot deny having performed an action or created data. It provides proof of the integrity and origin of data, preventing the sender from denying they sent a message."
            },
            {
                objective: "1.3",
                question: "What is a maintenance window in change management?",
                choices: [
                    "The time allowed for testing changes",
                    "A designated time period for implementing changes", 
                    "The documentation review period",
                    "The approval timeframe for changes"
                ],
                correct: 1,
                explanation: "A maintenance window is a predetermined time period during which changes can be implemented in production systems. It's typically scheduled during low-usage hours to minimize business impact."
            },
            {
                objective: "1.4",
                question: "What is the primary difference between hashing and encryption?",
                choices: [
                    "Hashing uses longer keys than encryption",
                    "Hashing is reversible while encryption is not", 
                    "Hashing is one-way while encryption is reversible",
                    "Hashing is faster than encryption"
                ],
                correct: 2,
                explanation: "Hashing is a one-way function that creates a fixed-size output from input data and cannot be reversed to obtain the original data. Encryption is reversible - data can be decrypted back to its original form with the proper key."
            },
            {
                objective: "1.4",
                question: "What is tokenization in data protection?",
                choices: [
                    "Converting data into encrypted format",
                    "Replacing sensitive data with non-sensitive tokens", 
                    "Compressing data for storage",
                    "Creating hash values of data"
                ],
                correct: 1,
                explanation: "Tokenization replaces sensitive data with non-sensitive placeholder tokens that have no intrinsic value. The original data is stored securely in a token vault and can be retrieved when needed."
            },
            {
                objective: "1.1",
                question: "A policy requiring employees to lock their workstations when away is what type of control?",
                choices: [
                    "Technical",
                    "Physical", 
                    "Directive",
                    "Detective"
                ],
                correct: 2,
                explanation: "Directive controls are designed to direct, confine, or control the actions of subjects to ensure compliance with security policies. A policy requiring workstation locking directs employee behavior."
            },
            {
                objective: "1.2",
                question: "In Zero Trust architecture, what is the Policy Engine responsible for?",
                choices: [
                    "Enforcing access decisions",
                    "Making access control decisions", 
                    "Monitoring user behavior",
                    "Storing user credentials"
                ],
                correct: 1,
                explanation: "In Zero Trust architecture, the Policy Engine is responsible for making access control decisions based on policies, user context, device health, and other factors. It determines whether access should be granted or denied."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;
        let objectiveScores = { "1.1": {correct: 0, total: 0}, "1.2": {correct: 0, total: 0}, "1.3": {correct: 0, total: 0}, "1.4": {correct: 0, total: 0} };

        function startTest() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('questionContainer').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestionIndex];
            
            // Update question header
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
            document.getElementById('objectiveTag').textContent = `Objective ${question.objective}`;
            
            // Update progress bar
            document.getElementById('progressBar').style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            // Show question
            document.getElementById('questionText').textContent = question.question;
            
            // Show choices
            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';
            
            question.choices.forEach((choice, index) => {
                const choiceDiv = document.createElement('div');
                choiceDiv.className = 'choice';
                choiceDiv.onclick = () => selectAnswer(index, choiceDiv);
                
                choiceDiv.innerHTML = `
                    <div class="choice-letter">${String.fromCharCode(65 + index)}</div>
                    <span>${choice}</span>
                `;
                
                choicesContainer.appendChild(choiceDiv);
            });

            // Hide feedback and next button
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            selectedAnswer = null;

            // Update score display
            updateScoreDisplay();
        }

        function selectAnswer(answerIndex, choiceElement) {
            if (selectedAnswer !== null) return; // Already answered

            selectedAnswer = answerIndex;
            const question = questions[currentQuestionIndex];
            const isCorrect = answerIndex === question.correct;

            // Update objective scores
            objectiveScores[question.objective].total++;
            if (isCorrect) {
                score++;
                objectiveScores[question.objective].correct++;
            }

            // Style all choices
            const choices = document.querySelectorAll('.choice');
            choices.forEach((choice, index) => {
                choice.style.pointerEvents = 'none';
                if (index === question.correct) {
                    choice.classList.add('correct');
                } else if (index === answerIndex && !isCorrect) {
                    choice.classList.add('incorrect');
                }
            });

            // Show feedback
            const feedback = document.getElementById('feedback');
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <h4>${isCorrect ? '✅ Correct!' : '❌ Incorrect!'}</h4>
                <p><strong>Explanation:</strong> ${question.explanation}</p>
            `;
            feedback.style.display = 'block';

            // Update score display
            updateScoreDisplay();

            // Show next button or finish test
            if (currentQuestionIndex < questions.length - 1) {
                document.getElementById('nextBtn').style.display = 'inline-block';
            } else {
                setTimeout(showResults, 2000);
            }
        }

        function updateScoreDisplay() {
            document.getElementById('currentScore').textContent = `Score: ${score}/${currentQuestionIndex + (selectedAnswer !== null ? 1 : 0)} (${Math.round((score / Math.max(1, currentQuestionIndex + (selectedAnswer !== null ? 1 : 0))) * 100)}%)`;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion();
        }

        function showResults() {
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('results').style.display = 'block';

            const percentage = Math.round((score / questions.length) * 100);
            const passed = percentage >= 70;
            
            document.getElementById('finalScore').textContent = `${score}/${questions.length} (${percentage}%)`;
            
            const passStatus = document.getElementById('passStatus');
            if (passed) {
                passStatus.innerHTML = `<h3 style="color: #28a745;">🎉 PASSED! Great work!</h3>`;
            } else {
                passStatus.innerHTML = `<h3 style="color: #dc3545;">📚 Not quite there yet. Review the material and try again!</h3>`;
            }

            // Show performance breakdown
            const breakdown = document.getElementById('performanceBreakdown');
            breakdown.innerHTML = '';
            
            Object.keys(objectiveScores).forEach(objective => {
                const objScore = objectiveScores[objective];
                const objPercentage = objScore.total > 0 ? Math.round((objScore.correct / objScore.total) * 100) : 0;
                
                const objDiv = document.createElement('div');
                objDiv.className = 'objective-result';
                objDiv.innerHTML = `
                    <h4>Objective ${objective}</h4>
                    <p>${objScore.correct}/${objScore.total} (${objPercentage}%)</p>
                `;
                breakdown.appendChild(objDiv);
            });
        }

        function resetTest() {
            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            objectiveScores = { "1.1": {correct: 0, total: 0}, "1.2": {correct: 0, total: 0}, "1.3": {correct: 0, total: 0}, "1.4": {correct: 0, total: 0} };

            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('results').style.display = 'none';
        }
    </script>
</body>
</html>
