<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modulus Math Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #ffffff;
            color: #000000;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #006400;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #228B22;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .section {
            background-color: #f8f8f8;
            border: 3px solid #006400;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0, 100, 0, 0.1);
        }

        h2 {
            color: #006400;
            margin-bottom: 15px;
            border-bottom: 2px solid #228B22;
            padding-bottom: 8px;
        }

        .input-group {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        label {
            font-weight: bold;
            color: #000000;
            min-width: 100px;
        }

        input[type="number"] {
            padding: 10px;
            font-size: 16px;
            border: 2px solid #228B22;
            border-radius: 5px;
            width: 150px;
            background-color: #ffffff;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #006400;
            box-shadow: 0 0 5px rgba(0, 100, 0, 0.3);
        }

        button {
            background-color: #006400;
            color: white;
            padding: 12px 30px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #228B22;
        }

        button:active {
            background-color: #004d00;
        }

        .result {
            background-color: #000000;
            color: #00ff00;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 1.3em;
            font-family: 'Courier New', monospace;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .explanation {
            background-color: #e8f5e9;
            border-left: 4px solid #006400;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
        }

        .formula {
            background-color: #000000;
            color: #00ff00;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin: 15px 0;
            font-size: 1.1em;
        }

        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .example-card {
            background-color: #ffffff;
            border: 2px solid #228B22;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .example-card:hover {
            background-color: #e8f5e9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 100, 0, 0.2);
        }

        .example-card h3 {
            color: #006400;
            font-size: 1em;
            margin-bottom: 8px;
        }

        .example-card p {
            color: #000000;
            font-size: 0.9em;
        }

        .visualization {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            padding: 15px;
            background-color: #ffffff;
            border: 2px solid #228B22;
            border-radius: 8px;
            min-height: 100px;
            align-items: center;
            justify-content: center;
        }

        .viz-block {
            width: 30px;
            height: 30px;
            background-color: #006400;
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .viz-remainder {
            background-color: #ff6b6b;
        }

        .info-box {
            background-color: #000000;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
        }

        .info-box h3 {
            color: #00ff00;
            margin-bottom: 10px;
        }

        @media (max-width: 600px) {
            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }

            input[type="number"] {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Modulus Math Simulator</h1>
        <p class="subtitle">Understanding Modular Arithmetic for Cybersecurity</p>

        <!-- Basic Calculator Section -->
        <div class="section">
            <h2>üìä Basic Modulus Calculator</h2>
            <div class="input-group">
                <label for="dividend">Dividend (a):</label>
                <input type="number" id="dividend" value="17" min="0">
                
                <label for="divisor">Modulus (m):</label>
                <input type="number" id="divisor" value="5" min="1">
                
                <button onclick="calculateModulus()">Calculate</button>
            </div>
            
            <div class="formula">
                a mod m = remainder when a is divided by m
            </div>

            <div class="result" id="result">
                Enter values and click Calculate
            </div>

            <div class="explanation" id="explanation"></div>

            <div class="visualization" id="visualization"></div>
        </div>

        <!-- Modular Addition Section -->
        <div class="section">
            <h2>‚ûï Modular Addition</h2>
            <div class="input-group">
                <label for="addA">Number a:</label>
                <input type="number" id="addA" value="8">
                
                <label for="addB">Number b:</label>
                <input type="number" id="addB" value="7">
                
                <label for="addMod">Modulus m:</label>
                <input type="number" id="addMod" value="12" min="1">
                
                <button onclick="calculateModularAddition()">Calculate</button>
            </div>

            <div class="formula">
                (a + b) mod m
            </div>

            <div class="result" id="addResult">
                Enter values and click Calculate
            </div>

            <div class="explanation" id="addExplanation"></div>
        </div>

        <!-- Modular Multiplication Section -->
        <div class="section">
            <h2>‚úñÔ∏è Modular Multiplication</h2>
            <div class="input-group">
                <label for="multA">Number a:</label>
                <input type="number" id="multA" value="6">
                
                <label for="multB">Number b:</label>
                <input type="number" id="multB" value="7">
                
                <label for="multMod">Modulus m:</label>
                <input type="number" id="multMod" value="10" min="1">
                
                <button onclick="calculateModularMultiplication()">Calculate</button>
            </div>

            <div class="formula">
                (a √ó b) mod m
            </div>

            <div class="result" id="multResult">
                Enter values and click Calculate
            </div>

            <div class="explanation" id="multExplanation"></div>
        </div>

        <!-- Modular Exponentiation Section -->
        <div class="section">
            <h2>üî¢ Modular Exponentiation (Used in RSA)</h2>
            <div class="input-group">
                <label for="base">Base (a):</label>
                <input type="number" id="base" value="3">
                
                <label for="exponent">Exponent (e):</label>
                <input type="number" id="exponent" value="4">
                
                <label for="expMod">Modulus (m):</label>
                <input type="number" id="expMod" value="7" min="1">
                
                <button onclick="calculateModularExponentiation()">Calculate</button>
            </div>

            <div class="formula">
                a<sup>e</sup> mod m
            </div>

            <div class="result" id="expResult">
                Enter values and click Calculate
            </div>

            <div class="explanation" id="expExplanation"></div>

            <div class="info-box">
                <h3>üí° Why This Matters in Cybersecurity:</h3>
                <p>Modular exponentiation is the foundation of RSA encryption. It's easy to compute a<sup>e</sup> mod m, but extremely difficult to reverse (find e given only the result and a).</p>
            </div>
        </div>

        <!-- Quick Examples Section -->
        <div class="section">
            <h2>üéØ Quick Examples to Try</h2>
            <div class="examples">
                <div class="example-card" onclick="loadExample(10, 3)">
                    <h3>Clock Arithmetic</h3>
                    <p>10 mod 3 = 1</p>
                    <p style="font-size: 0.8em; color: #666;">Like hours on a clock</p>
                </div>
                <div class="example-card" onclick="loadExample(15, 12)">
                    <h3>12-Hour Clock</h3>
                    <p>15 mod 12 = 3</p>
                    <p style="font-size: 0.8em; color: #666;">3 PM in 24hr format</p>
                </div>
                <div class="example-card" onclick="loadExample(100, 7)">
                    <h3>Day of Week</h3>
                    <p>100 mod 7 = 2</p>
                    <p style="font-size: 0.8em; color: #666;">Days cycle every 7</p>
                </div>
                <div class="example-card" onclick="loadExample(256, 26)">
                    <h3>Caesar Cipher</h3>
                    <p>256 mod 26 = 22</p>
                    <p style="font-size: 0.8em; color: #666;">Letter positions</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function calculateModulus() {
            const dividend = parseInt(document.getElementById('dividend').value);
            const divisor = parseInt(document.getElementById('divisor').value);

            if (divisor === 0) {
                document.getElementById('result').textContent = 'Error: Cannot divide by zero!';
                document.getElementById('explanation').innerHTML = '';
                document.getElementById('visualization').innerHTML = '';
                return;
            }

            const remainder = dividend % divisor;
            const quotient = Math.floor(dividend / divisor);

            document.getElementById('result').textContent = `${dividend} mod ${divisor} = ${remainder}`;
            
            document.getElementById('explanation').innerHTML = `
                <strong>Step-by-step:</strong><br>
                ${dividend} √∑ ${divisor} = ${quotient} remainder ${remainder}<br>
                This means: ${dividend} = (${divisor} √ó ${quotient}) + ${remainder}<br>
                The modulus operation gives us the remainder: <strong>${remainder}</strong>
            `;

            // Visual representation
            visualizeModulus(dividend, divisor, remainder);
        }

        function visualizeModulus(dividend, divisor, remainder) {
            const vizDiv = document.getElementById('visualization');
            vizDiv.innerHTML = '<p style="width: 100%; margin-bottom: 10px;"><strong>Visual Representation:</strong> Each block represents 1 unit</p>';

            const maxBlocks = 50;
            const blocksToShow = Math.min(dividend, maxBlocks);

            for (let i = 0; i < blocksToShow; i++) {
                const block = document.createElement('div');
                block.className = 'viz-block';
                
                if (i >= dividend - remainder) {
                    block.classList.add('viz-remainder');
                    block.textContent = 'R';
                }
                
                vizDiv.appendChild(block);
            }

            if (dividend > maxBlocks) {
                vizDiv.innerHTML += '<p style="width: 100%; margin-top: 10px; color: #666;">...showing first 50 units</p>';
            }
        }

        function calculateModularAddition() {
            const a = parseInt(document.getElementById('addA').value);
            const b = parseInt(document.getElementById('addB').value);
            const m = parseInt(document.getElementById('addMod').value);

            if (m === 0) {
                document.getElementById('addResult').textContent = 'Error: Modulus cannot be zero!';
                return;
            }

            const sum = a + b;
            const result = sum % m;

            document.getElementById('addResult').textContent = `(${a} + ${b}) mod ${m} = ${result}`;
            
            document.getElementById('addExplanation').innerHTML = `
                <strong>Calculation:</strong><br>
                First, add the numbers: ${a} + ${b} = ${sum}<br>
                Then, apply modulus: ${sum} mod ${m} = ${result}<br>
                <strong>Property:</strong> (a + b) mod m = ((a mod m) + (b mod m)) mod m
            `;
        }

        function calculateModularMultiplication() {
            const a = parseInt(document.getElementById('multA').value);
            const b = parseInt(document.getElementById('multB').value);
            const m = parseInt(document.getElementById('multMod').value);

            if (m === 0) {
                document.getElementById('multResult').textContent = 'Error: Modulus cannot be zero!';
                return;
            }

            const product = a * b;
            const result = product % m;

            document.getElementById('multResult').textContent = `(${a} √ó ${b}) mod ${m} = ${result}`;
            
            document.getElementById('multExplanation').innerHTML = `
                <strong>Calculation:</strong><br>
                First, multiply the numbers: ${a} √ó ${b} = ${product}<br>
                Then, apply modulus: ${product} mod ${m} = ${result}<br>
                <strong>Property:</strong> (a √ó b) mod m = ((a mod m) √ó (b mod m)) mod m
            `;
        }

        function calculateModularExponentiation() {
            const base = parseInt(document.getElementById('base').value);
            const exp = parseInt(document.getElementById('exponent').value);
            const m = parseInt(document.getElementById('expMod').value);

            if (m === 0) {
                document.getElementById('expResult').textContent = 'Error: Modulus cannot be zero!';
                return;
            }

            if (exp < 0) {
                document.getElementById('expResult').textContent = 'Error: Negative exponents not supported';
                return;
            }

            if (exp > 1000) {
                document.getElementById('expResult').textContent = 'Error: Exponent too large (max 1000)';
                return;
            }

            // Using modular exponentiation for efficiency
            let result = 1;
            let b = base % m;
            let e = exp;
            
            let steps = [];
            steps.push(`Starting: base = ${base}, exponent = ${exp}, modulus = ${m}`);

            while (e > 0) {
                if (e % 2 === 1) {
                    result = (result * b) % m;
                }
                e = Math.floor(e / 2);
                b = (b * b) % m;
            }

            const directResult = Math.pow(base, exp);
            
            document.getElementById('expResult').textContent = `${base}^${exp} mod ${m} = ${result}`;
            
            let explanation = `<strong>Calculation:</strong><br>`;
            if (exp <= 10 && directResult < 1000000) {
                explanation += `${base}^${exp} = ${directResult}<br>`;
                explanation += `${directResult} mod ${m} = ${result}<br><br>`;
            } else {
                explanation += `Using efficient modular exponentiation algorithm<br>`;
                explanation += `Result = ${result}<br><br>`;
            }
            
            explanation += `<strong>üîê Cybersecurity Application:</strong><br>
                This operation is used in RSA encryption. The difficulty of reversing this operation 
                (finding the exponent given only the result) is what makes RSA secure!`;
            
            document.getElementById('expExplanation').innerHTML = explanation;
        }

        function loadExample(dividend, divisor) {
            document.getElementById('dividend').value = dividend;
            document.getElementById('divisor').value = divisor;
            calculateModulus();
        }

        // Initialize with default calculation
        window.onload = function() {
            calculateModulus();
        };
    </script>
</body>
</html>
