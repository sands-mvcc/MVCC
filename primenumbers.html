<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Prime Numbers Training</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .section {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .definition-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 12px;
            border-left: 6px solid #667eea;
            margin: 20px 0;
        }

        .definition-box h3 {
            color: #764ba2;
            margin-bottom: 12px;
            font-size: 1.4em;
        }

        .definition-box p {
            font-size: 1.1em;
            line-height: 1.8;
        }

        .example-box {
            background: #fff8e1;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #ffc107;
            margin: 15px 0;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            gap: 8px;
            margin: 20px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
        }

        .number-cell {
            background: white;
            border: 2px solid #ddd;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .number-cell:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .number-cell.prime {
            background: #4caf50;
            color: white;
            border-color: #2e7d32;
        }

        .number-cell.composite {
            background: #f44336;
            color: white;
            border-color: #c62828;
        }

        .number-cell.crossed {
            background: #bdbdbd;
            color: #757575;
            text-decoration: line-through;
            border-color: #9e9e9e;
        }

        .number-cell.selected {
            background: #2196f3;
            color: white;
            border-color: #1565c0;
            box-shadow: 0 0 15px rgba(33, 150, 243, 0.5);
        }

        .controls {
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        input[type="number"] {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            width: 150px;
            transition: border-color 0.3s ease;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 8px rgba(102, 126, 234, 0.3);
        }

        .result-box {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #4caf50;
            margin: 20px 0;
            font-size: 1.2em;
            display: none;
        }

        .result-box.error {
            background: #ffebee;
            border-left-color: #f44336;
        }

        .factor-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .factor-item {
            background: #667eea;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
        }

        .quiz-option {
            background: white;
            border: 2px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: #f5f5f5;
            border-color: #667eea;
        }

        .quiz-option.correct {
            background: #4caf50;
            color: white;
            border-color: #2e7d32;
        }

        .quiz-option.incorrect {
            background: #f44336;
            color: white;
            border-color: #c62828;
        }

        .score-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            margin: 20px 0;
        }

        .info-panel {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #2196f3;
            margin: 20px 0;
        }

        .info-panel h4 {
            color: #1565c0;
            margin-bottom: 10px;
        }

        .visualization {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .prime-list {
            background: #f3e5f5;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .prime-list h4 {
            color: #764ba2;
            margin-bottom: 10px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            .grid-container {
                grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
                gap: 5px;
            }
            
            .number-cell {
                padding: 8px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üî¢ Interactive Prime Numbers Training</h1>
            <p>Master the fundamental building blocks of mathematics</p>
        </header>

        <!-- Introduction Section -->
        <section class="section">
            <h2>üìö What Are Prime Numbers?</h2>
            <div class="definition-box">
                <h3>Definition</h3>
                <p>A <strong>prime number</strong> is a natural number greater than 1 that has exactly two factors: 1 and itself. This means it can only be divided evenly by 1 and by itself.</p>
            </div>
            
            <div class="example-box">
                <h4><strong>Examples:</strong></h4>
                <p><strong>Prime Numbers:</strong> 2, 3, 5, 7, 11, 13, 17, 19, 23, 29...</p>
                <p><strong>Why is 2 special?</strong> It's the only even prime number! All other even numbers are divisible by 2.</p>
                <p><strong>Not Prime:</strong> 1 (only one factor), 4 (factors: 1, 2, 4), 6 (factors: 1, 2, 3, 6)</p>
            </div>

            <div class="info-panel">
                <h4>üéØ Key Concepts</h4>
                <p><strong>Composite Numbers:</strong> Numbers greater than 1 that have more than two factors.</p>
                <p><strong>Special Case:</strong> The number 1 is neither prime nor composite.</p>
                <p><strong>Historical Note:</strong> The ancient Greek mathematician Euclid proved there are infinitely many prime numbers!</p>
            </div>
        </section>

        <!-- Prime Checker Section -->
        <section class="section">
            <h2>üîç Prime Number Checker</h2>
            <p>Enter any number to check if it's prime and see its factors!</p>
            
            <div class="controls">
                <input type="number" id="checkNumber" placeholder="Enter a number" min="1" value="17">
                <button class="btn" onclick="checkPrime()">Check Number</button>
            </div>

            <div id="primeResult" class="result-box"></div>
            
            <div id="factorDisplay" style="display: none;">
                <h3>Factors:</h3>
                <div id="factorList" class="factor-list"></div>
                <div id="factorVisualization" class="visualization"></div>
            </div>
        </section>

        <!-- Sieve of Eratosthenes Section -->
        <section class="section">
            <h2>üéØ Sieve of Eratosthenes</h2>
            <div class="info-panel">
                <h4>How it works:</h4>
                <p>1. Start with all numbers from 2 to your limit</p>
                <p>2. Mark 2 as prime, then cross out all multiples of 2</p>
                <p>3. Find the next unmarked number (it's prime!), mark it, and cross out its multiples</p>
                <p>4. Repeat until you've processed all numbers</p>
            </div>

            <div class="controls">
                <label for="sieveLimit">Find primes up to:</label>
                <input type="number" id="sieveLimit" min="10" max="200" value="100">
                <button class="btn" onclick="initializeSieve()">Initialize Grid</button>
                <button class="btn-secondary btn" onclick="runSieveStep()">Next Step</button>
                <button class="btn-success btn" onclick="autoRunSieve()">Auto Run</button>
                <button class="btn btn-secondary" onclick="resetSieve()">Reset</button>
            </div>

            <div id="sieveGrid" class="grid-container"></div>
            
            <div id="sieveStats" class="stats" style="display: none;">
                <div class="stat-card">
                    <div>Current Prime</div>
                    <div class="stat-number" id="currentPrime">-</div>
                </div>
                <div class="stat-card">
                    <div>Primes Found</div>
                    <div class="stat-number" id="primesFound">0</div>
                </div>
                <div class="stat-card">
                    <div>Numbers Checked</div>
                    <div class="stat-number" id="numbersChecked">0</div>
                </div>
            </div>

            <div class="prime-list" id="primeListDisplay" style="display: none;">
                <h4>Prime Numbers Found:</h4>
                <div id="primeNumbers"></div>
            </div>
        </section>

        <!-- Interactive Quiz Section -->
        <section class="section">
            <h2>üéÆ Prime Number Quiz</h2>
            <p>Test your understanding with these interactive questions!</p>
            
            <div class="score-display">
                Score: <span id="quizScore">0</span> / <span id="quizTotal">0</span>
            </div>

            <div id="quizContainer">
                <div id="currentQuestion"></div>
                <div id="quizOptions"></div>
                <button class="btn" onclick="nextQuestion()" id="nextQuestionBtn" style="display: none; margin-top: 20px;">Next Question</button>
            </div>
        </section>

        <!-- Practice Section -->
        <section class="section">
            <h2>‚úèÔ∏è Practice Exercises</h2>
            
            <div class="info-panel">
                <h4>Challenge Yourself!</h4>
                <p>Click the "Generate Challenge" button to practice identifying prime numbers.</p>
            </div>

            <div class="controls">
                <button class="btn" onclick="generateChallenge()">Generate Challenge</button>
            </div>

            <div id="challengeDisplay"></div>
        </section>
    </div>

    <script>
        // Global variables for Sieve
        let sieveNumbers = [];
        let sieveCurrentIndex = 2;
        let sievePrimes = [];
        let sieveAutoInterval = null;

        // Global variables for Quiz
        let quizScore = 0;
        let quizTotal = 0;
        let currentQuestionAnswered = false;

        // Initialize on page load
        window.onload = function() {
            initializeSieve();
            loadQuestion();
        };

        // Prime Checker Functions
        function isPrime(num) {
            if (num <= 1) return false;
            if (num <= 3) return true;
            if (num % 2 === 0 || num % 3 === 0) return false;
            
            for (let i = 5; i * i <= num; i += 6) {
                if (num % i === 0 || num % (i + 2) === 0) return false;
            }
            return true;
        }

        function getFactors(num) {
            const factors = [];
            for (let i = 1; i <= num; i++) {
                if (num % i === 0) {
                    factors.push(i);
                }
            }
            return factors;
        }

        function checkPrime() {
            const num = parseInt(document.getElementById('checkNumber').value);
            const resultBox = document.getElementById('primeResult');
            const factorDisplay = document.getElementById('factorDisplay');
            const factorList = document.getElementById('factorList');
            const factorViz = document.getElementById('factorVisualization');

            if (isNaN(num) || num < 1) {
                resultBox.className = 'result-box error';
                resultBox.style.display = 'block';
                resultBox.innerHTML = '‚ö†Ô∏è Please enter a valid positive number.';
                factorDisplay.style.display = 'none';
                return;
            }

            const factors = getFactors(num);
            const prime = isPrime(num);

            // Display result
            resultBox.className = prime ? 'result-box' : 'result-box error';
            resultBox.style.display = 'block';
            
            if (num === 1) {
                resultBox.innerHTML = `<strong>${num}</strong> is neither prime nor composite. It has only one factor: itself.`;
            } else if (prime) {
                resultBox.innerHTML = `‚úÖ <strong>${num}</strong> is a PRIME number! It has exactly 2 factors: 1 and ${num}.`;
            } else {
                resultBox.innerHTML = `‚ùå <strong>${num}</strong> is a COMPOSITE number. It has ${factors.length} factors.`;
            }

            // Display factors
            factorDisplay.style.display = 'block';
            factorList.innerHTML = '';
            factors.forEach(factor => {
                const factorItem = document.createElement('div');
                factorItem.className = 'factor-item';
                factorItem.textContent = factor;
                factorList.appendChild(factorItem);
            });

            // Visual representation
            factorViz.innerHTML = '';
            if (factors.length <= 20) {
                const vizText = document.createElement('div');
                vizText.textContent = `${num} = ` + factors.slice(0, -1).map((f, i) => 
                    i < factors.length - 2 ? `${f} √ó ${num/f}` : ''
                ).filter(x => x).join(', ');
                factorViz.appendChild(vizText);
            }
        }

        // Sieve of Eratosthenes Functions
        function initializeSieve() {
            const limit = parseInt(document.getElementById('sieveLimit').value);
            if (isNaN(limit) || limit < 2) return;

            sieveNumbers = [];
            sieveCurrentIndex = 2;
            sievePrimes = [];
            
            if (sieveAutoInterval) {
                clearInterval(sieveAutoInterval);
                sieveAutoInterval = null;
            }

            const grid = document.getElementById('sieveGrid');
            grid.innerHTML = '';

            // Create number grid
            for (let i = 2; i <= limit; i++) {
                sieveNumbers.push({
                    value: i,
                    crossed: false,
                    prime: false
                });

                const cell = document.createElement('div');
                cell.className = 'number-cell';
                cell.textContent = i;
                cell.id = `cell-${i}`;
                grid.appendChild(cell);
            }

            document.getElementById('sieveStats').style.display = 'grid';
            document.getElementById('currentPrime').textContent = '-';
            document.getElementById('primesFound').textContent = '0';
            document.getElementById('numbersChecked').textContent = '0';
        }

        function runSieveStep() {
            if (sieveAutoInterval) return;

            const limit = parseInt(document.getElementById('sieveLimit').value);
            
            // Find next uncrossed number
            while (sieveCurrentIndex <= limit) {
                const numObj = sieveNumbers.find(n => n.value === sieveCurrentIndex);
                if (!numObj || !numObj.crossed) break;
                sieveCurrentIndex++;
            }

            if (sieveCurrentIndex > limit) {
                displaySieveComplete();
                return;
            }

            // Mark current as prime
            const currentNum = sieveCurrentIndex;
            const numObj = sieveNumbers.find(n => n.value === currentNum);
            numObj.prime = true;
            sievePrimes.push(currentNum);

            const currentCell = document.getElementById(`cell-${currentNum}`);
            currentCell.className = 'number-cell selected';

            document.getElementById('currentPrime').textContent = currentNum;
            document.getElementById('primesFound').textContent = sievePrimes.length;

            // Cross out multiples
            setTimeout(() => {
                for (let i = currentNum * 2; i <= limit; i += currentNum) {
                    const multiple = sieveNumbers.find(n => n.value === i);
                    if (multiple && !multiple.crossed) {
                        multiple.crossed = true;
                        const cell = document.getElementById(`cell-${i}`);
                        cell.className = 'number-cell crossed';
                    }
                }

                currentCell.className = 'number-cell prime';
                sieveCurrentIndex++;
                document.getElementById('numbersChecked').textContent = sieveCurrentIndex;
            }, 300);
        }

        function autoRunSieve() {
            if (sieveAutoInterval) {
                clearInterval(sieveAutoInterval);
                sieveAutoInterval = null;
                return;
            }

            sieveAutoInterval = setInterval(() => {
                const limit = parseInt(document.getElementById('sieveLimit').value);
                if (sieveCurrentIndex > limit) {
                    clearInterval(sieveAutoInterval);
                    sieveAutoInterval = null;
                    displaySieveComplete();
                    return;
                }
                runSieveStep();
            }, 500);
        }

        function displaySieveComplete() {
            const primeListDisplay = document.getElementById('primeListDisplay');
            const primeNumbers = document.getElementById('primeNumbers');
            
            primeListDisplay.style.display = 'block';
            primeNumbers.innerHTML = '<div class="factor-list">' + 
                sievePrimes.map(p => `<div class="factor-item">${p}</div>`).join('') + 
                '</div>';
        }

        function resetSieve() {
            if (sieveAutoInterval) {
                clearInterval(sieveAutoInterval);
                sieveAutoInterval = null;
            }
            document.getElementById('primeListDisplay').style.display = 'none';
            initializeSieve();
        }

        // Quiz Functions
        const quizQuestions = [
            {
                question: "Which of the following is a prime number?",
                options: ["15", "17", "18", "20"],
                correct: 1
            },
            {
                question: "How many factors does a prime number have?",
                options: ["1", "2", "3", "More than 3"],
                correct: 1
            },
            {
                question: "Which is the smallest prime number?",
                options: ["0", "1", "2", "3"],
                correct: 2
            },
            {
                question: "Which number is NOT prime?",
                options: ["11", "13", "15", "17"],
                correct: 2
            },
            {
                question: "What makes 2 special among prime numbers?",
                options: ["It's the largest prime", "It's the only even prime", "It's not really prime", "It's divisible by 1"],
                correct: 1
            },
            {
                question: "Which statement is true about the number 1?",
                options: ["It's prime", "It's composite", "It's neither prime nor composite", "It's both prime and composite"],
                correct: 2
            },
            {
                question: "What are the prime factors of 12?",
                options: ["2 and 3", "2 and 6", "3 and 4", "1 and 12"],
                correct: 0
            },
            {
                question: "Which is a prime number between 20 and 30?",
                options: ["21", "23", "25", "27"],
                correct: 1
            }
        ];

        let currentQuestionIndex = 0;

        function loadQuestion() {
            if (currentQuestionIndex >= quizQuestions.length) {
                document.getElementById('quizContainer').innerHTML = 
                    `<div class="definition-box"><h3>üéâ Quiz Complete!</h3>
                    <p>Your final score: ${quizScore} out of ${quizTotal}</p>
                    <p>Percentage: ${Math.round((quizScore/quizTotal)*100)}%</p>
                    <button class="btn" onclick="resetQuiz()">Restart Quiz</button></div>`;
                return;
            }

            const question = quizQuestions[currentQuestionIndex];
            currentQuestionAnswered = false;

            document.getElementById('currentQuestion').innerHTML = 
                `<div class="definition-box"><h3>Question ${currentQuestionIndex + 1} of ${quizQuestions.length}</h3>
                <p style="font-size: 1.2em;">${question.question}</p></div>`;

            const optionsHtml = question.options.map((option, index) => 
                `<div class="quiz-option" onclick="checkAnswer(${index})">${option}</div>`
            ).join('');

            document.getElementById('quizOptions').innerHTML = optionsHtml;
            document.getElementById('nextQuestionBtn').style.display = 'none';
        }

        function checkAnswer(selectedIndex) {
            if (currentQuestionAnswered) return;

            currentQuestionAnswered = true;
            quizTotal++;

            const question = quizQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.quiz-option');

            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                    if (selectedIndex === index) {
                        quizScore++;
                        option.innerHTML += ' ‚úì Correct!';
                    }
                } else if (index === selectedIndex) {
                    option.classList.add('incorrect');
                    option.innerHTML += ' ‚úó Incorrect';
                }
                option.style.cursor = 'default';
            });

            document.getElementById('quizScore').textContent = quizScore;
            document.getElementById('quizTotal').textContent = quizTotal;
            document.getElementById('nextQuestionBtn').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function resetQuiz() {
            quizScore = 0;
            quizTotal = 0;
            currentQuestionIndex = 0;
            document.getElementById('quizScore').textContent = '0';
            document.getElementById('quizTotal').textContent = '0';
            loadQuestion();
        }

        // Challenge Generator
        function generateChallenge() {
            const challengeDisplay = document.getElementById('challengeDisplay');
            const randomNum = Math.floor(Math.random() * 100) + 2;
            const isPrimeNum = isPrime(randomNum);
            const factors = getFactors(randomNum);

            challengeDisplay.innerHTML = `
                <div class="definition-box">
                    <h3>Challenge Number: ${randomNum}</h3>
                    <p>Is this number prime or composite?</p>
                    <div class="controls">
                        <button class="btn" onclick="revealAnswer(${randomNum}, ${isPrimeNum}, ${JSON.stringify(factors).replace(/"/g, '&quot;')})">
                            Show Answer
                        </button>
                    </div>
                    <div id="challengeAnswer" style="display: none;"></div>
                </div>
            `;
        }

        function revealAnswer(num, isPrimeNum, factors) {
            const factorsArray = JSON.parse(factors.replace(/&quot;/g, '"'));
            const answerDiv = document.getElementById('challengeAnswer');
            
            answerDiv.style.display = 'block';
            answerDiv.innerHTML = `
                <div class="result-box" style="display: block;">
                    <strong>${num}</strong> is ${isPrimeNum ? 'PRIME' : 'COMPOSITE'}!
                    <p>Factors: ${factorsArray.join(', ')}</p>
                    <p>${isPrimeNum ? 
                        `As a prime number, ${num} can only be divided by 1 and itself.` : 
                        `As a composite number, ${num} has ${factorsArray.length} factors.`}
                    </p>
                </div>
            `;
        }
    </script>
</body>
</html>
