<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US Geography Hangman</title>
    <style>
        :root {
            --primary-green: #2e7d32;
            --dark-green: #1b5e20;
            --black: #1a1a1a;
            --white: #ffffff;
            --gray: #e0e0e0;
            --error: #d32f2f;
        }

        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--white);
            color: var(--black);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--primary-green);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin: 0;
        }

        /* Setup Screen */
        #setup-screen {
            text-align: center;
            max-width: 500px;
            padding: 40px;
            border: 2px solid var(--black);
            border-radius: 12px;
            box-shadow: 8px 8px 0px var(--primary-green);
        }

        .option-group {
            margin: 25px 0;
        }

        .difficulty-btn {
            background: var(--white);
            border: 2px solid var(--black);
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
            font-weight: bold;
            border-radius: 6px;
            transition: 0.2s;
        }

        .difficulty-btn.active {
            background: var(--primary-green);
            color: var(--white);
            border-color: var(--primary-green);
        }

        /* Game Screen */
        #game-screen {
            display: none;
            width: 100%;
            max-width: 800px;
            flex-direction: column;
            align-items: center;
        }

        .game-layout {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            width: 100%;
            margin: 20px 0;
        }

        /* Hangman Drawing */
        #hangman-svg {
            width: 200px;
            height: 250px;
        }

        .draw-part {
            stroke: var(--black);
            stroke-width: 4;
            fill: none;
            display: none;
        }

        .gallows {
            display: block;
            stroke-width: 6;
        }

        /* Word and Clues */
        .info-panel {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        #word-display {
            font-size: 2.5rem;
            letter-spacing: 0.5rem;
            margin-bottom: 20px;
            font-family: monospace;
            text-align: center;
        }

        .clue-box {
            background: #f9fff9;
            border-left: 4px solid var(--primary-green);
            padding: 15px;
            margin-bottom: 20px;
        }

        .category-tag {
            display: inline-block;
            background: var(--black);
            color: var(--white);
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        /* Keyboard */
        #keyboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
            gap: 8px;
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
        }

        .key {
            background: var(--white);
            border: 2px solid var(--black);
            padding: 12px 5px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            text-align: center;
            transition: 0.2s;
        }

        .key:hover:not(.disabled) {
            background: var(--gray);
        }

        .key.disabled {
            opacity: 0.3;
            cursor: default;
        }

        .key.correct {
            background: var(--primary-green);
            color: var(--white);
            border-color: var(--primary-green);
        }

        .key.wrong {
            background: var(--error);
            color: var(--white);
            border-color: var(--error);
        }

        /* UI Buttons */
        .primary-btn {
            background: var(--primary-green);
            color: var(--white);
            border: 2px solid var(--black);
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            border-radius: 6px;
            transition: 0.2s;
        }

        .primary-btn:hover {
            box-shadow: 4px 4px 0px var(--black);
            transform: translate(-2px, -2px);
        }

        /* Feedback Modals */
        #modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .modal {
            background: var(--white);
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            border: 4px solid var(--black);
        }

        .modal h2 {
            margin-top: 0;
            font-size: 2rem;
        }

        .win { color: var(--primary-green); }
        .loss { color: var(--error); }
    </style>
</head>
<body>

<header>
    <h1>Geo-Detective Hangman</h1>
    <p>US Geography Edition</p>
</header>

<!-- Setup Screen -->
<div id="setup-screen">
    <h2>Configure Your Mission</h2>
    <p>Choose how many errors the detective is allowed before the game ends.</p>
    
    <div class="option-group">
        <button class="difficulty-btn" onclick="setDifficulty(6, this)">6 Guesses</button>
        <button class="difficulty-btn active" onclick="setDifficulty(7, this)">7 Guesses</button>
        <button class="difficulty-btn" onclick="setDifficulty(8, this)">8 Guesses</button>
        <button class="difficulty-btn" onclick="setDifficulty(10, this)">10 Guesses</button>
    </div>

    <div style="font-size: 0.9rem; color: #666; margin-bottom: 20px;">
        <span id="diff-description">Head, Neck, Body, Arms, Legs</span>
    </div>

    <button class="primary-btn" onclick="initGame()">Start Game</button>
</div>

<!-- Game Screen -->
<div id="game-screen">
    <div class="game-layout">
        <!-- Visual -->
        <div id="visual-container">
            <svg id="hangman-svg" viewBox="0 0 200 250">
                <!-- Gallows (Always visible) -->
                <path class="draw-part gallows" d="M 20 230 L 180 230 M 50 230 L 50 20 L 140 20 L 140 50" />
                
                <!-- Parts (Ordered for 10 guesses max) -->
                <circle id="p-head" class="draw-part" cx="140" cy="75" r="25" />
                <line id="p-neck" class="draw-part" x1="140" y1="100" x2="140" y2="115" />
                <line id="p-body" class="draw-part" x1="140" y1="115" x2="140" y2="170" />
                <line id="p-l-arm" class="draw-part" x1="140" y1="130" x2="110" y2="150" />
                <line id="p-r-arm" class="draw-part" x1="140" y1="130" x2="170" y2="150" />
                <line id="p-l-hand" class="draw-part" x1="110" y1="150" x2="100" y2="145" />
                <line id="p-r-hand" class="draw-part" x1="170" y1="150" x2="180" y2="145" />
                <line id="p-l-leg" class="draw-part" x1="140" y1="170" x2="120" y2="210" />
                <line id="p-r-leg" class="draw-part" x1="140" y1="170" x2="160" y2="210" />
                <line id="p-l-foot" class="draw-part" x1="120" y1="210" x2="105" y2="210" />
                <line id="p-r-foot" class="draw-part" x1="160" y1="210" x2="175" y2="210" />
            </svg>
        </div>

        <!-- Word Info -->
        <div class="info-panel">
            <div id="category-display" class="category-tag">CATEGORY</div>
            <div id="word-display">_ _ _ _ _</div>
            <div class="clue-box">
                <strong>HINT:</strong> <span id="hint-display">Selecting clue...</span>
            </div>
            <div style="text-align: right; font-weight: bold;">
                LIVES: <span id="lives-count">7</span>
            </div>
        </div>
    </div>

    <!-- Keyboard -->
    <div id="keyboard"></div>
    
    <button class="primary-btn" style="margin-top: 30px; background: var(--black);" onclick="location.reload()">Reset Game</button>
</div>

<!-- Modal -->
<div id="modal-overlay">
    <div class="modal">
        <h2 id="modal-title">You Won!</h2>
        <p id="modal-msg"></p>
        <p>Correct word was: <strong id="modal-answer">WORD</strong></p>
        <button class="primary-btn" onclick="location.reload()">Play Again</button>
    </div>
</div>

<script>
    const wordList = [
        { cat: "State", word: "CALIFORNIA", hint: "The most populous state, known as the 'Golden State.'" },
        { cat: "State", word: "PENNSYLVANIA", hint: "Home to the Liberty Bell and the city of Philadelphia." },
        { cat: "State", word: "MISSISSIPPI", hint: "Named after the massive river that forms its western border." },
        { cat: "State", word: "WASHINGTON", hint: "The only state named after a U.S. President." },
        { cat: "State", word: "OKLAHOMA", hint: "A state in the Great Plains known for its 'Sooners.'" },
        { cat: "State", word: "COLORADO", hint: "Famous for the Rocky Mountains and high elevation." },
        { cat: "State", word: "MICHIGAN", hint: "The state that consists of two peninsulas." },
        { cat: "State", word: "ILLINOIS", hint: "Home to the 'Windy City' and the Land of Lincoln." },
        { cat: "State", word: "NEBRASKA", hint: "A central state famous for corn production." },
        { cat: "State", word: "DELAWARE", hint: "The first state to ratify the U.S. Constitution." },
        { cat: "State", word: "VIRGINIA", hint: "Home to many founding fathers and Jamestown." },
        { cat: "State", word: "LOUISIANA", hint: "Famous for its Creole culture and the city of New Orleans." },
        { cat: "State", word: "ARKANSAS", hint: "The 'Natural State,' home to Hot Springs National Park." },
        { cat: "State", word: "KENTUCKY", hint: "Famous for the Bluegrass region and horse racing." },
        { cat: "State", word: "MARYLAND", hint: "State surrounding much of the Chesapeake Bay." },
        { cat: "State", word: "MISSOURI", hint: "Known as the 'Gateway to the West.'" },
        { cat: "City", word: "PHILADELPHIA", hint: "The city where the Declaration of Independence was signed." },
        { cat: "City", word: "SAN FRANCISCO", hint: "Famous for the Golden Gate Bridge and steep hills." },
        { cat: "City", word: "INDIANAPOLIS", hint: "Home to one of the most famous auto races in the world." },
        { cat: "City", word: "MINNEAPOLIS", hint: "One of the 'Twin Cities' in the state of Minnesota." },
        { cat: "City", word: "ALBUQUERQUE", hint: "The largest city in New Mexico, famous for ballooning." },
        { cat: "City", word: "SACRAMENTO", hint: "The capital city of California." },
        { cat: "City", word: "MILWAUKEE", hint: "The largest city in Wisconsin, located on Lake Michigan." },
        { cat: "City", word: "CHARLOTTE", hint: "A major financial hub in North Carolina." },
        { cat: "City", word: "NASHVILLE", hint: "Known as 'Music City' and the capital of Tennessee." },
        { cat: "City", word: "ANCHORAGE", hint: "The most populous city in the state of Alaska." },
        { cat: "City", word: "HONOLULU", hint: "The capital and largest city of Hawaii." },
        { cat: "City", word: "CHARLESTON", hint: "A historic port city in South Carolina." },
        { cat: "National Park", word: "YELLOWSTONE", hint: "The first National Park in the world." },
        { cat: "National Park", word: "YOSEMITE", hint: "Famous for its giant sequoias and Half Dome." },
        { cat: "National Park", word: "EVERGLADES", hint: "A massive tropical wetland in southern Florida." },
        { cat: "National Park", word: "SHENANDOAH", hint: "Features the scenic Skyline Drive in Virginia." },
        { cat: "National Park", word: "BADLANDS", hint: "Known for its rugged beauty in South Dakota." },
        { cat: "National Park", word: "ACADIA NATIONAL PARK", hint: "A stunning coastal park in Maine." },
        { cat: "Site", word: "GRAND CANYON", hint: "A massive gorge carved by the Colorado River." },
        { cat: "Site", word: "MOUNT RUSHMORE", hint: "Features the faces of four U.S. Presidents." },
        { cat: "Site", word: "STATUE OF LIBERTY", hint: "A symbol of freedom in New York Harbor." },
        { cat: "Site", word: "GOLDEN GATE", hint: "Iconic orange bridge in California." },
        { cat: "Mountain", word: "APPALACHIANS", hint: "Major mountain system in the eastern U.S." },
        { cat: "Mountain", word: "ADIRONDACKS", hint: "Mountain massif in northeastern New York." },
        { cat: "Mountain", word: "MOUNT RAINIER", hint: "Highest mountain in the state of Washington." },
        { cat: "Mountain", word: "MOUNT WHITNEY", hint: "Highest peak in the contiguous U.S." },
        { cat: "Water Body", word: "GREAT LAKES", hint: "Five interconnected freshwater lakes." },
        { cat: "Lake", word: "LAKE SUPERIOR", hint: "The largest of the five Great Lakes." },
        { cat: "Lake", word: "LAKE MICHIGAN", hint: "Only Great Lake located entirely in the U.S." },
        { cat: "Lake", word: "LAKE ONTARIO", hint: "The easternmost of the Great Lakes." },
        { cat: "Water Body", word: "CHESAPEAKE", hint: "Massive estuary in the Mid-Atlantic." },
        { cat: "River", word: "RIO GRANDE", hint: "Forms part of the U.S.-Mexico border." },
        { cat: "River", word: "COLUMBIA RIVER", hint: "Largest river in the Pacific Northwest." },
        { cat: "Water Body", word: "GULF OF MEXICO", hint: "Ocean basin bordered by North America." }
    ];

    let maxGuesses = 7;
    let errors = 0;
    let currentWordObj = null;
    let guessedLetters = [];
    
    // Mapping which SVG IDs to show based on difficulty choice
    const partMappings = {
        6: ["p-head", "p-body", "p-l-arm", "p-r-arm", "p-l-leg", "p-r-leg"],
        7: ["p-head", "p-neck", "p-body", "p-l-arm", "p-r-arm", "p-l-leg", "p-r-leg"],
        8: ["p-head", "p-body", "p-l-arm", "p-r-arm", "p-l-leg", "p-r-leg", "p-l-foot", "p-r-foot"],
        10: ["p-head", "p-body", "p-l-arm", "p-r-arm", "p-l-hand", "p-r-hand", "p-l-leg", "p-r-leg", "p-l-foot", "p-r-foot"]
    };

    const descriptions = {
        6: "Head, Body, Arms, Legs",
        7: "Head, Neck, Body, Arms, Legs",
        8: "Head, Body, Arms, Legs, Feet",
        10: "Head, Body, Arms, Legs, Feet, Hands"
    };

    function setDifficulty(num, btn) {
        maxGuesses = num;
        document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('diff-description').innerText = descriptions[num];
    }

    function initGame() {
        document.getElementById('setup-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'flex';
        
        currentWordObj = wordList[Math.floor(Math.random() * wordList.length)];
        guessedLetters = [];
        errors = 0;
        
        updateDisplay();
        createKeyboard();
        
        document.getElementById('lives-count').innerText = maxGuesses;
        document.getElementById('category-display').innerText = currentWordObj.cat;
        document.getElementById('hint-display').innerText = currentWordObj.hint;
    }

    function createKeyboard() {
        const kb = document.getElementById('keyboard');
        kb.innerHTML = '';
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
        
        alphabet.forEach(letter => {
            const btn = document.createElement('button');
            btn.innerText = letter;
            btn.className = 'key';
            btn.onclick = () => handleGuess(letter, btn);
            kb.appendChild(btn);
        });
    }

    function handleGuess(letter, btn) {
        if (btn.classList.contains('disabled')) return;
        
        btn.classList.add('disabled');
        guessedLetters.push(letter);
        
        if (currentWordObj.word.includes(letter)) {
            btn.classList.add('correct');
            updateDisplay();
            checkWin();
        } else {
            btn.classList.add('wrong');
            errors++;
            document.getElementById('lives-count').innerText = maxGuesses - errors;
            drawHangman();
            checkLoss();
        }
    }

    function updateDisplay() {
        const display = currentWordObj.word.split("").map(char => {
            if (char === " ") return "&nbsp;&nbsp;";
            return guessedLetters.includes(char) ? char : "_";
        }).join(" ");
        document.getElementById('word-display').innerHTML = display;
    }

    function drawHangman() {
        const parts = partMappings[maxGuesses];
        if (errors <= parts.length) {
            const partId = parts[errors - 1];
            document.getElementById(partId).style.display = 'block';
        }
    }

    function checkWin() {
        const currentDisplay = document.getElementById('word-display').innerText.replace(/\s/g, "");
        const targetWord = currentWordObj.word.replace(/\s/g, "");
        
        if (currentDisplay === targetWord) {
            showModal("MISSION SUCCESS", "You successfully identified the location!", "win");
        }
    }

    function checkLoss() {
        if (errors >= maxGuesses) {
            showModal("MISSION FAILED", "The detective ran out of time.", "loss");
        }
    }

    function showModal(title, msg, styleClass) {
        document.getElementById('modal-title').innerText = title;
        document.getElementById('modal-title').className = styleClass;
        document.getElementById('modal-msg').innerText = msg;
        document.getElementById('modal-answer').innerText = currentWordObj.word;
        document.getElementById('modal-overlay').style.display = 'flex';
    }

    // Physical Keyboard support
    window.addEventListener('keydown', (e) => {
        if (document.getElementById('game-screen').style.display === 'flex') {
            const char = e.key.toUpperCase();
            if (/^[A-Z]$/.test(char)) {
                const keys = document.querySelectorAll('.key');
                keys.forEach(k => {
                    if (k.innerText === char && !k.classList.contains('disabled')) {
                        k.click();
                    }
                });
            }
        }
    });
</script>

</body>
</html>
