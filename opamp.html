
HomeHTMLHTML SVGTryit: SVG circle 
Result Size: 849 x 894
        }
​
        function updateValues() {
            const vin = parseFloat(document.getElementById('vinControl').value);
            const rf = parseFloat(document.getElementById('rfControl').value);
            const r1 = parseFloat(document.getElementById('r1Control').value);
            
            document.getElementById('vinDisplay').textContent = `Vin = ${vin.toFixed(1)}V`;
            document.getElementById('rfDisplay').textContent = `Rf = ${rf}kΩ`;
            document.getElementById('r1Display').textContent = `R1 = ${r1}kΩ`;
            
            let gain, vout;
            if (isInverting) {
                gain = -rf/r1;
                vout = vin * gain;
            } else {
                gain = 1 + (rf/r1);
                vout = vin * gain;
            }
            
            document.getElementById('gainDisplay').textContent = `Gain = ${gain.toFixed(2)}`;
            document.getElementById('voutDisplay').textContent = `Vout = ${vout.toFixed(2)}V`;
            
            updateWaveform(vin, vout);
            drawOpAmp();
        }
​
        function updateWaveform(vin, vout) {
            const time = new Date().getTime();
            
            if (waveformChart.data.labels.length > 50) {
                waveformChart.data.labels.shift();
                waveformChart.data.datasets[0].data.shift();
                waveformChart.data.datasets[1].data.shift();
            }
            
            waveformChart.data.labels.push(time);
            waveformChart.data.datasets[0].data.push(vin);
            waveformChart.data.datasets[1].data.push(vout);
            waveformChart.update('none'); // Disable animation for smoother updates
        }
​
        function toggleMode() {
            isInverting = !isInverting;
            drawOpAmp();
            updateValues();
        }
​
        // Initialize
        drawOpAmp();
        updateValues();
​
        // Add event listeners
        document.getElementById('vinControl').addEventListener('input', updateValues);
        document.getElementById('rfControl').addEventListener('input', updateValues);
        document.getElementById('r1Control').addEventListener('input', updateValues);
    </script>
</body>
</html>
​
​

